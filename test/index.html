<html>

	<head>
		<title>Testing Marylin</title>
	</head>

	<body>
		<script src="bower_components/lodash/dist/lodash.js"></script>
		<script src="../lib/marilyn-min.js"></script>
		<script src="http://localhost:3002/socket.io/socket.io.js"></script>
		<script>
			var socketConnection = io.connect('http://localhost:3002'); 
		</script>

		<script>

			Marilyn.config(socketConnection);

			Marilyn.model('something', function(){

				this.before('create', function(data, callback){
					console.log('this ran before the create');
					callback();
				});

				this.after('create', function(data, callback){
					console.log('this ran after the create');
					callback();
				});

			});

		</script>

		<script>

			var model = Marilyn.model('something');

			model.receive('create', function(data){
				console.log('this ran in the receive');
			});

			model.create({}, function(err, results){
				console.log('this ran in the callback function')
				console.log(err);
				console.log(results);

			});

		</script>

	</body>

</html>